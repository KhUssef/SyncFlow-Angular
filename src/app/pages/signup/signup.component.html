<div class="signup-container">
  <div class="signup-card">
    <h1>Create new Company</h1>
    
    <div *ngIf="showSuccessMessage()" class="success-message">
      {{ successMessage() }}
    </div>
    <div *ngIf="showErrorMessage()" class="error-message">
      {{ ErrorMessage() }}
    </div>

    <form [formGroup]="signupForm" (ngSubmit)="onSignup()" *ngIf="!showSuccessMessage() && !showErrorMessage()">
      <div class="form-group">
        <label for="company">Company Name</label>
        <input 
          type="text" 
          id="company" 
          formControlName="companyName"
          placeholder="Enter company name"
        >
        <div class="error-message" *ngIf="companyName?.invalid && companyName?.touched">
          <span *ngIf="companyName?.errors?.['required']">Company name is required</span>
          <span *ngIf="companyName?.errors?.['companyExists']">Company name already exists</span>
          <span *ngIf="companyName?.errors?.['serverError']">Error checking company name availability</span>
        </div>
        <div class="validating" *ngIf="companyName?.pending">
          Checking availability...
        </div>
      </div>

      <div class="form-group">
        <label for="username">Manager username</label>
        <input 
          type="text" 
          id="username" 
          formControlName="username"
          placeholder="Enter username"
        >
        <div class="error-message" *ngIf="username?.invalid && username?.touched">
          <span *ngIf="username?.errors?.['required']">Username is required</span>
          <span *ngIf="username?.errors?.['minlength']">Username must be at least 3 characters</span>
        </div>
      </div>

      <div class="form-group">
        <label for="password">Password</label>
        <input 
          type="password" 
          id="password" 
          formControlName="password"
          placeholder="Enter password"
        >
        <div class="error-message" *ngIf="password?.invalid && password?.touched">
          <span *ngIf="password?.errors?.['required']">Password is required</span>
          <span *ngIf="password?.errors?.['minlength']">Password must be at least 6 characters</span>
        </div>
      </div>

      <button [disabled]="!formValid() || isSubmitting()" type="submit" class="signup-btn">
        <span *ngIf="!isSubmitting()">Sign Up</span>
        <span *ngIf="isSubmitting()">Creating...</span>
      </button>
    </form>
    <button type="button" class="login-redirect-btn" (click)="renavigateToLogin()">
      Back to Login
    </button>
  </div>
</div>
